                          _
                        /   \
                      /       \
                    /           \
                  /               \
                 |      MQTT       |
                  \     BROKER    /
                    \           /
                      \       /
                        \   /   
                          -   
                          |  
    TCP Connection -----> |  
                          |  
                          |  
                          |
                          |
                          _  
                        /   \                                                                                                                                                 ...................
                      /       \                                                                                                                                               . Build Parameter .
                    /           \     ========================================================                                                        >---------------------->.     Map         .
                  /               \   Retreives messages from subscribed topics and store them                                                        |                       ...................
                 |      MQTT       |    in a channel, Uses eclipse/paho.mqtt.golang Library                                                           | ========
                  \     Client    /   ======================================================                                                          |  True
                    \           /                                                                                                                     | ========
                      \       /                                                                                                                       |
                        \   /                                                                                                                         _          
                          -                                                                                                                         /   \        
                          |                                                                                                                       /       \      
                          |                                                                                                                     /           \    
                          |              Loop                                                                                                 /               \  
                          |      >>>>>>>>>>>>>>>>>>>>>                                                                             >-------->|      Test       |                                                      |
                          |     ^    Consumes Msg    |                                                                             |          \     Stn       /                                                       |
                          |     ^                    |                                                                             |            \           /                                                         |
                ___________________                  |                                                                             |              \       /                                                           |
                |   Message       |                @@@@@@@@@                                                                       |                \   /                                                             |
                |      Channel    |                @  msg  @ ------                                                                |                  -                                                               |
                |                 |                @@@@@@@@@      |                                                                |                  ^                     ...................            ................           
                -------------------                  |            |                                                                |                  ^--------------------<. Slice Of Stn    .            . Expression   .      
                                ^                    |            |  ========================                                      |                                        ...................            ................           
                                ^      Channel       |            |  Extracts Station from msg.                                    |                                               |                                |
                                ^ <<<<<<<<<<<<<<<<<<<<            |    message.GetStn()                                            |                                               |                                |
                                                                  |  =========================                                     |                                               |                                |
                                                            ............                                                           |                                               |---------------------------------
                                                            .   Stn    .___________________________________________________________|                                               |
                                                            ............                                                                                                         .............
                                                                  |                                                                                                  <<<<<<<<<<<<. Condition .<<<<<<<<<<<<<                  
                                                                  |                                                                                                  |           .............            ^
                                                                  |   ==========================================                                                     |                                    ^
                                                                  |    Extracts Geartype and Subgear, Creates                                                        |                                    ^
                                                                  |     Rule Id ---> "Geartype-Subgear"                                                              |                                    ^
                                                                  |         message.GetRuleId()                              =================================       |                                    ^
                                                                  |   ==========================================             Get Condition dict from                 |                                    ^
                                                                  |                                                          Rule and add to the condition list      |           .............            ^
                                                                  |                                                          ==================================      >>>>>>>>>>>>. Condition .>>>>>>>>>>>>>        
                                                         .....................                                             >---------------------------------------------------->.    dict   .---------------
                                                         . Rule Id           .                                             | =====                                               .............              |
                                                         . (Geartype-Subgear).----------------------                       | True                                                                           |                           ....................
                                                         .....................                     |                       | =====                                                                          |                           . List of          .
                                                                                                   |                       _                                                                                |++++++-------------------->.   Condition dict .
                                                                                                   |                     /   \                                                                                                          ....................
                                                                                                   |                   /       \         =======
                                                                                                   |                 /           \        False
                                                                                                   |               /  Test Rule    \     ========
                                                                                                   |------------->|      Ids        |--->>>---------------------------------------->
                                                                                                                   \               /                                               |
                                                                                                                     \           /                                                 |
                                                                                                                       \       /                                                   |
                                                                                                                         \   /                                                     |
                                                                                                                           -                                                       |
                                                                                                                           ^                                                       |
                                                                                                                           |                                                       |
                                                                                                                           |                                                       |
                                                                                                                  .....................                                            |
                                                                                                                  . Rule Id           .                                            |
                                                                                                                  . (Geartype-Subgear).                                            |
                                                                                                                  .....................                                            |
                                                                                Loop                                      |                                                        |
                                                                      >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>                    |                                                        |
                                                                      ^       Through the            |                    |  =================================================     |
         +++++++++++++                                                ^                              |                    |   Extracts Geartype-Subgear key value of Condition     |
         +           +                                         @@@@@@@@@@@@@@@@                  @@@@@@@@@@               |       dictionary in Rule                               |
         +  Rule     +  Deserialization into                   @ RulesMap     @                  @ Rule   @               |  ==================================================    |
         +    File   +-----------------------------------------@       Struct @                  @        @ ---------------                                                        |
         +           +  a custom data structure RulesMap       @              @                  @@@@@@@@@@                                                                        |
         +++++++++++++                                         @@@@@@@@@@@@@@@@                      |  ^                                                                          |
                                                                      ^                              |  ^                                                                          |
                                                                      ^                              |  ---------------------------------------------------------------------------<
                                                                      ^         Slice of Map         |
                                                                      <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<                             






